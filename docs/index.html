<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interact with the PADRINO IPM Database • Rpadrino</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Interact with the PADRINO IPM Database">
<meta property="og:description" content="PADRINO houses textual representations of
    Integral Projection Models which can be converted from their 
    table format into full kernels to reproduce or extend an 
    already published analysis. Rpadrino is an R interface to this database. For
    more information on Integral Projection Models, see Easterling et al. (2000) 
  &lt;doi:10.1890/0012-9658(2000)081[0694:SSSAAN]2.0.CO;2&gt;, Merow et al. (2013) 
  &lt;doi:10.1111/2041-210X.12146&gt;, Rees et al. (2014) &lt;doi:10.1111/1365-2656.12178&gt;,
  and Metcalf et al. (2015) &lt;doi:10.1111/2041-210X.12405&gt;. See Levin et al. (2021)
  for more information on ipmr, the engine that powers model reconstruction
  &lt;doi:10.1111/2041-210X.13683&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Rpadrino</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/padrino-intro.html">Introduction to Rpadrino</a>
    </li>
    <li>
      <a href="articles/data-cleaning.html">Data Cleaning and Troubleshooting</a>
    </li>
    <li>
      <a href="articles/pdb-msgs.html">Messages and Warnings in PADRINO</a>
    </li>
    <li>
      <a href="articles/stoch-ipms.html">Stochastic IPMs</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/padrinoDB/Rpadrino/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level2">
<h2 id="rpadrino">Rpadrino<a class="anchor" aria-label="anchor" href="#rpadrino"></a>
</h2>
<p><code>Rpadrino</code> is a package for interacting with the PADRINO Integral Projection Model database. Currently, an alpha release of PADRINO exists as a set of version controlled csv files hosted in a GitHub repository. The longer term plan is to migrate it to a set of static, version-controlled tables that are hosted on Zenodo (or similar). For now, you can access it by installing the <code>Rpadrino</code> <em>R</em> package from this repository (see below for instructions).</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>CRAN version:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"Rpadrino"</span><span class="op">)</span></span></code></pre></div>
<p>Or the development version (may not be stable!):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"padrinoDB/Rpadrino"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scope">Scope<a class="anchor" aria-label="anchor" href="#scope"></a>
</h2>
<p>The goal of this package is basic data management, exploration, and porting PADRINO’s internal syntax to <a href="https://levisc8.github.io/ipmr/" class="external-link"><code>ipmr</code>’s</a> syntax. One can combine models from here with their own models for synthesis work, using the <code>proto_ipm</code> as a common data structure to power the analysis. It is not intended to provide a complete analysis toolbox - that will come in a separate package designed to work with <code>ipmr</code> and <code>Rpadrino</code> objects.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The data included in this package are quality checked (see below) and ready for use. This is not the complete database - that can be downloaded using the <code>pdb_download</code> function. See the table below for information on the number of models in each.</p>
<table class="table">
<colgroup>
<col width="31%">
<col width="20%">
<col width="27%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th align="left">Data Source</th>
<th align="right"># of Species</th>
<th align="right"># of Publications</th>
<th align="right"># of IPM id’s</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Internal Data</td>
<td align="right">36</td>
<td align="right">22</td>
<td align="right">77</td>
</tr>
<tr class="even">
<td align="left">Full PADRINO Database</td>
<td align="right">56</td>
<td align="right">40</td>
<td align="right">280</td>
</tr>
</tbody>
</table>
<table class="table">
<thead><tr class="header">
<th align="left">Kingdom</th>
<th align="right"># of Species</th>
<th align="right"># of Publications</th>
<th align="right"># of IPM id’s</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Animalia</td>
<td align="right">16</td>
<td align="right">14</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="left">Plantae</td>
<td align="right">40</td>
<td align="right">26</td>
<td align="right">258</td>
</tr>
</tbody>
</table>
<p>Above are the current number of unique species, unique publications, and unique <code>ipm_id</code>s that are in PADRINO and <code>Rpadrino</code>’s internal dataset. Table 2 provides a breakdown of how these are distributed amongst taxonomic kingdoms in the <strong>full</strong> database (i.e. not the internal data set). All of the models included in both the internal data set and full database have been quality checked for accuracy. Quality checked means that for deterministic models, the asymptotic per-capita growth rate (<img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;%5Clambda" title="\lambda" alt="\lambda">) is within <img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;%5Cpm%200.03" title="\pm 0.03" alt="\pm 0.03"> of the published point estimate value. For stochastic models, we check for approximately the same stochastic population growth rate (<img src="https://latex.codecogs.com/png.image?%5Cdpi%7B110%7D&amp;space;%5Cbg_white&amp;space;%5Clambda_s" title="\lambda_s" alt="\lambda_s">), but do not try to replicate the analysis, as this usually requires too many computing resources to be feasible.</p>
<p>A small-ish copy of the Padrino Database is included as a package data set. You can download the full database as well. You can access it with the following code:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/padrinoDB/Rpadrino" class="external-link">Rpadrino</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"pdb"</span><span class="op">)</span> <span class="co"># Internal copy, contains a subset of plant species in PADRINO</span></span>
<span></span>
<span><span class="co"># Downloads the complete database. The models contained in here have </span></span>
<span><span class="co"># been tested for accuracy/reasonable results.  </span></span>
<span><span class="va">pdb</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/in_out.html">pdb_download</a></span><span class="op">(</span>save <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span></code></pre></div>
<p>The next step is to identify the models we are interested in building. There are accessor functions that allow you to extract metadata columns from the <code>pdb</code> object, which may be helpful in this step. See <code><a href="reference/metadata_utils.html">?pdb_species_accepted</a></code> for a list of those. Additionally, the <a href="https://sam-levin.shinyapps.io/shiny_pdb/" class="external-link">shiny_pdb</a> allows for interactive exploration and subsetting of data.</p>
<p>Once, we’ve identified the model(s) we want, we can build a list of <a href="https://levisc8.github.io/ipmr/articles/proto-ipms.html" class="external-link"><code>proto_ipm</code>’s</a>. This is an intermediate step between the database representation and a set of kernels. Once we have the list of <code>proto_ipm</code>’s, we can build an actual model. Below, we extract a specific study, and construct an IPM from the database object.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We can construct a single IPM at a time, or make a list of many IPMs</span></span>
<span></span>
<span><span class="va">proto_list</span>   <span class="op">&lt;-</span> <span class="fu"><a href="reference/pdb_make_proto_ipm.html">pdb_make_proto_ipm</a></span><span class="op">(</span><span class="va">pdb</span>, </span>
<span>                                   ipm_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aaa310"</span>, <span class="st">"ddddd7"</span>, <span class="st">"aaaa17"</span><span class="op">)</span>,</span>
<span>                                   det_stoch <span class="op">=</span> <span class="st">"det"</span><span class="op">)</span></span></code></pre></div>
<p>Once the list of <code>proto_ipm</code>’s is generated, you can either append your own IPMs to it, or you can go ahead to the next chunk. Note that <code>pdb_make_ipm</code> will almost always work, but there may still be bugs lurking!</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ipm_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pdb_make_ipm.html">pdb_make_ipm</a></span><span class="op">(</span><span class="va">proto_list</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lams</span>         <span class="op">&lt;-</span> <span class="fu"><a href="https://levisc8.github.io/ipmr/reference/lambda.html" class="external-link">lambda</a></span><span class="op">(</span><span class="va">ipm_list</span><span class="op">)</span></span>
<span><span class="va">stable_dists</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://levisc8.github.io/ipmr/reference/eigenvectors.html" class="external-link">right_ev</a></span><span class="op">(</span><span class="va">ipm_list</span><span class="op">)</span></span>
<span><span class="va">repro_vals</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://levisc8.github.io/ipmr/reference/eigenvectors.html" class="external-link">left_ev</a></span><span class="op">(</span><span class="va">ipm_list</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="finding-help">Finding help<a class="anchor" aria-label="anchor" href="#finding-help"></a>
</h2>
<p>Functions are documented in the <em>Functions</em> tab and longer form documentation and examples are in the <em>Vignettes</em> tab.</p>
<div class="section level3">
<h3 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h3>
<p>Please note that the Rpadrino project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=Rpadrino" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/padrinoDB/Rpadrino/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/padrinoDB/Rpadrino/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing Rpadrino</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/levisc8" class="external-link">Sam Levin</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3289-9925" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Aldo Compagnoni <br><small class="roles"> Author </small>  </li>
<li>Dylan Childs <br><small class="roles"> Author </small>  </li>
<li>Sanne Evers <br><small class="roles"> Author </small>  </li>
<li>Tomos Potter <br><small class="roles"> Author </small>  </li>
<li>Roberto Salguero-Gomez <br><small class="roles"> Author </small>  </li>
<li>Tiffany Knight <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/padrinoDB/Rpadrino/actions" class="external-link"><img src="https://github.com/padrinODB/Rpadrino/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/padrinoDB/Rpadrino?branch=main" class="external-link"><img src="https://codecov.io/gh/padrinoDB/Rpadrino/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://cran.r-project.org/package=Rpadrino" class="external-link"><img src="https://www.r-pkg.org/badges/version/Rpadrino" alt="CRAN status"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/124245125" class="external-link"><img src="https://zenodo.org/badge/124245125.svg" alt="DOI"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/levisc8" class="external-link">Sam Levin</a>, Aldo Compagnoni, Dylan Childs, Sanne Evers, Tomos Potter, Roberto Salguero-Gomez, Tiffany Knight.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
